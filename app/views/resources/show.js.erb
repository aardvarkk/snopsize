// Here we change which snop is being displayed
$('#right_column').html("<%=j render partial: 'shared/snop_browse', locals: {current_snop: @snop, snop_list: @snops, prev_button_path: resource_path(domain_id: @resource.domain.id, resource_id: @resource.id, snop: snop_get_prev_in_list(@snop, @snops), direction: 'prev'), next_button_path: resource_path(domain_id: @resource.domain.id, resource_id: @resource.id, snop: snop_get_next_in_list(@snop, @snops), direction: 'next')} %>")

// Let's do a little animation
<% if @direction == "next" %>
  $('#snop').css({'margin-left':'100%'}).animate({'margin-left':'0'});
<% elsif @direction == "prev" %>
  $('#snop').css({'margin-left':'-50%'}).animate({'margin-left':'0'});
<% end %>

// TODO: Highlight the selected item in the left_column

// Reload the facebook button (http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/)
FB.XFBML.parse();

// Reload the twitter button (https://dev.twitter.com/discussions/890)
twttr.widgets.load();
// For why we have to reload see: http://stackoverflow.com/questions/8565801/how-can-i-get-twitter-facebook-google-buttons-to-show-up-after-loading-page