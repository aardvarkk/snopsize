// Here we change which snop is being displayed
$('#snop').html("<%=j render 'shared/snopfull' %>");

// Let's do a little animation
<% if @direction == "next" %>
  $('#snop').css({'margin-left':'100%'}).animate({'margin-left':'0'});
<% elsif @direction == "prev" %>
  $('#snop').css({'margin-left':'-50%'}).animate({'margin-left':'0'});
<% end %>

// Here we basically just want to change the button links so they point to the correct next and prev
$('#prev_button').html("<%=j button_to '<', resource_show_snop_path(domain_id: @resource.domain.id, resource_id: @resource.id, snop: @prev, direction: 'prev'), remote: true, disabled: @prev.nil? %>");
$('#next_button').html("<%=j button_to '>', resource_show_snop_path(domain_id: @resource.domain.id, resource_id: @resource.id, snop: @next, direction: 'next'), remote: true, disabled: @next.nil? %>");

// Reload the facebook button (http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/)
FB.XFBML.parse();

// Reload the twitter button (https://dev.twitter.com/discussions/890)
twttr.widgets.load();
// For why we have to reload see: http://stackoverflow.com/questions/8565801/how-can-i-get-twitter-facebook-google-buttons-to-show-up-after-loading-page