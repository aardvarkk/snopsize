<%# show a search form always %>
<%= form_tag("/search", :method => "get") do %>
  <%= label_tag(:q, "Search for:") %>
  <%= select_tag(:type, options_for_select([['Keyword', 'keyword'], ['URL', 'url'], ['User', 'user']], params[:type])) %>
  <%= text_field_tag(:q) %>
  <%# set the name to 'nil' to avoid the commit = Search parameter from being passed %>
  <%= submit_tag("Search", :name => nil) %>
<% end %></br>

<%# show any keyword results... %>
<% if @results %>
  <% case params[:type] %>
  <% when 'url' %>
  <% when 'user' %>
    <%= @results.size %> User Results found</br></br>
    <%= render :partial => 'shared/userquick', :collection => @results %>
  <% else %>
   	<%= @results.size %> Keyword Results found</br></br>
    <%= render :partial => 'shared/snopquick', :collection => @results %>
  <% end %>
<% end %>

<%#= debug params %>