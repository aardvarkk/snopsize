<% if params[:browse_view] %>
  $("#snops_browse_view").html("<%=j render partial: 'shared/snop_browse', locals: {current_snop: @snop, snop_list: @snops, close_path: user_path} %>");
  changeToBrowseView();

  // Reload the social media buttons
  reloadSocialMediaButtons();  
<% else %>
  changeToListView();
<% end %>

// Reload the click handlers
reloadClickHandlers();

// Enable/Disable the View buttons appropriately
<% if (params[:created_only]) %>
  $("#all_snops_link").css("pointer-events", "auto"); 
  $("#created_only_link").css("pointer-events", "none"); 
  $("#favourites_only_link").css("pointer-events", "auto"); 
<% elsif (params[:favourites_only]) %>
  $("#all_snops_link").css("pointer-events", "auto"); 
  $("#created_only_link").css("pointer-events", "auto"); 
  $("#favourites_only_link").css("pointer-events", "none"); 
<% else %>
  $("#all_snops_link").css("pointer-events", "none");  
  $("#created_only_link").css("pointer-events", "auto"); 
  $("#favourites_only_link").css("pointer-events", "auto"); 
<% end %>

// We want to update the datatable because we may have changed data-source.
var datatable = $("#snops").dataTable();
datatable.fnReloadAjax("<%= @table_data_source %>");
